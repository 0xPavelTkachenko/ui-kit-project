include ../speech-bubble/speech-bubble
include ../textarea/textarea
include ../button/button

mixin message-box(options)
  -
    options = options || {};

    const { color, name, message, buttonText } = options;

    let className = "message-box";
    className += color ? ` message-box_color_${color}` : "";

    let { avatar } = options;

    avatar = avatar || "./assets/no-avatar.png";

  div(class=className)
    .message-box__name=name
    .message-box__container
      .message-box__row
        .message-box__chat-wrapper
          button.message-box__chat(type="button")
        .message-box__avatar-wrapper
          img.message-box__avatar(src=avatar, alt="avatar")
        .message-box__camera-wrapper
          button.message-box__camera(type="button")
      .message-box__speech-bubble-wrapper
        +speech-bubble({color: "white", direction: "top"})
          .message-box__message
            | #{message}
      .message-box__textarea-wrapper
        +textarea()
      .message-box__button-wrapper
        +button({text: buttonText, color: color})
